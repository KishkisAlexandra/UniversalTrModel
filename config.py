# config.py

# ======================================================================================
# 1. –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
# ======================================================================================
SCENARIOS = {"–≠–∫–æ–Ω–æ–º–Ω—ã–π": 0.85, "–°—Ä–µ–¥–Ω–∏–π": 1.0, "–†–∞—Å—Ç–æ—á–∏—Ç–µ–ª—å–Ω—ã–π": 1.25}
HOUSE_COEFS = {"–ù–æ–≤—ã–π": {"heating": 1.0, "electricity": 1.0}, "–°—Ä–µ–¥–Ω–∏–π": {"heating": 1.05, "electricity": 1.05}, "–°—Ç–∞—Ä—ã–π": {"heating": 1.1, "electricity": 1.05}}
REALISM_UPLIFT = 1.07

# ======================================================================================
# 2. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–æ—Ä–æ–¥–∞—Ö
# ======================================================================================
CITIES_DB = {
    "–ú–∏–Ω—Å–∫": {
        "currency": "BYN", "services": ["–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è", "–í–æ–¥–∞", "–ö–∞–Ω–∞–ª–∏–∑–∞—Ü–∏—è", "–û—Ç–æ–ø–ª–µ–Ω–∏–µ", "–§–∏–∫—Å. –ø–ª–∞—Ç–µ–∂–∏"],
        "heating_months": [1, 2, 3, 4, 10, 11, 12], "volume_model": "standard_minsk",
        "recommendations": { "–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è": ("üí°", "..."), "–í–æ–¥–∞": ("üö∞", "...") }
    },
    "–õ–∏–º–∞—Å–æ–ª": {
        "currency": "‚Ç¨", "services": ["–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è", "–í–æ–¥–∞", "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç", "–¢–µ–ª–µ—Ñ–æ–Ω", "IPTV", "–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ"],
        "heating_months": [], "volume_model": "standard_limassol",
        "recommendations": { "–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è": ("üí°", "..."), "–í–æ–¥–∞": ("üö∞", "...") }
    }
}

# ======================================================================================
# 3. –¢–∞—Ä–∏—Ñ—ã –∏ –ö–û–ù–í–ï–ô–ï–†–´ –í–´–ß–ò–°–õ–ï–ù–ò–ô
# ======================================================================================
TARIFFS_DB = {
    "–ú–∏–Ω—Å–∫": {
        "–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è": {
            "params": {"subsidy_rate": 0.2412, "full_rate": 0.2969},
            "pipeline": [
                {"operator": "get_volume", "source": "–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è"},
                {"operator": "apply_subsidy_rate", "params_keys": ["subsidy_rate", "full_rate"]},
            ]
        },
        "–í–æ–¥–∞": {
            "params": {"rate": 1.7858},
            "pipeline": [
                {"operator": "get_volume", "source": "–í–æ–¥–∞"},
                {"operator": "multiply_by_param", "param_key": "rate"}
            ]
        },
        "–ö–∞–Ω–∞–ª–∏–∑–∞—Ü–∏—è": {
            "params": {"rate": 0.9586},
            "pipeline": [
                {"operator": "get_volume", "source": "–ö–∞–Ω–∞–ª–∏–∑–∞—Ü–∏—è"},
                {"operator": "multiply_by_param", "param_key": "rate"}
            ]
        },
        "–§–∏–∫—Å. –ø–ª–∞—Ç–µ–∂–∏": {
            # –î–ª—è –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω—ã—Ö, —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª –æ—Å—Ç–∞–≤–ª—è–µ–º –æ–¥–∏–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä.
            # –≠—Ç–æ —Ä–∞–∑—É–º–Ω—ã–π –∫–æ–º–ø—Ä–æ–º–∏—Å—Å, —á—Ç–æ–±—ã –Ω–µ –æ–ø–∏—Å—ã–≤–∞—Ç—å 5 —Å–ª–æ–∂–µ–Ω–∏–π –≤ –∫–æ–Ω–≤–µ–π–µ—Ä–µ.
            "pipeline": [{"operator": "calculate_minsk_fixed_fees"}]
        }
    },
    "–õ–∏–º–∞—Å–æ–ª": {
        "–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è": {
            "vat": 0.19, "params": {"rate": 0.2661},
            "pipeline": [
                {"operator": "get_volume", "source": "–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è"},
                {"operator": "multiply_by_param", "param_key": "rate"},
                {"operator": "apply_vat"}
            ]
        },
        "–í–æ–¥–∞": {
            "vat": 0.05,
            "params": {
                "base_fee": 22.0,
                "brackets": [
                    {"from": 1, "to": 40, "rate": 0.9}, {"from": 41, "to": 80, "rate": 1.43},
                    {"from": 81, "to": 120, "rate": 2.45}, {"from": 121, "to": float('inf'), "rate": 5.0}
                ]
            },
            "pipeline": [
                {"operator": "get_volume", "source": "–í–æ–¥–∞"},
                {"operator": "apply_progressive_rate", "param_key": "brackets"},
                {"operator": "add_param", "param_key": "base_fee"},
                {"operator": "apply_vat"}
            ]
        },
        "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç": {
            "vat": 0.19, "params": {"amount": 20},
            "pipeline": [
                {"operator": "get_fixed_amount", "param_key": "amount"},
                {"operator": "apply_vat"}
            ]
        }
    }
}
# –ö–æ–ø–∏—Ä—É–µ–º –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —É—Å–ª—É–≥, –∫–æ—Ç–æ—Ä—ã–µ —Å—á–∏—Ç–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ
TARIFFS_DB["–ú–∏–Ω—Å–∫"]["–û—Ç–æ–ø–ª–µ–Ω–∏–µ"] = TARIFFS_DB["–ú–∏–Ω—Å–∫"]["–≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—è"]
TARIFFS_DB["–õ–∏–º–∞—Å–æ–ª"]["–¢–µ–ª–µ—Ñ–æ–Ω"] = TARIFFS_DB["–õ–∏–º–∞—Å–æ–ª"]["–ò–Ω—Ç–µ—Ä–Ω–µ—Ç"]
TARIFFS_DB["–õ–∏–º–∞—Å–æ–ª"]["IPTV"] = TARIFFS_DB["–õ–∏–º–∞—Å–æ–ª"]["–ò–Ω—Ç–µ—Ä–Ω–µ—Ç"]
